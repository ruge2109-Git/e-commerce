<app-appbar itemActivo="productos"></app-appbar>

<section class="hero-wrap hero-wrap-2" style="background-image: url('assets/images/bg_2.jpg');"
  data-stellar-background-ratio="0.5">
  <div class="overlay"></div>
  <div class="container">
    <div class="row no-gutters slider-text align-items-end justify-content-center">
      <div class="col-md-9 mb-5 text-center wow animate__animated animate__fadeInUp">
        <p class="breadcrumbs mb-0"><span class="mr-2"><a href="index.html">Inicio <i
                class="fa fa-chevron-right"></i></a></span> <span>Carrito <i class="fa fa-chevron-right"></i></span></p>
        <h2 class="mb-0 bread">Mi carrito</h2>
      </div>
    </div>
  </div>
</section>
<section class="ftco-section wow animate__animated animate__fadeInUp">
  <div class="container">
    <div class="row">
      <div class="table-wrap">
        <table class="table">
          <thead class="thead-primary">
            <tr>
              <th>&nbsp;</th>
              <th>&nbsp;</th>
              <th>Producto</th>
              <th>Precio</th>
              <th>Cantidad</th>
              <th>Total</th>
              <th>&nbsp;</th>
            </tr>
          </thead>
          <tbody>
            <tr class="alert" *ngFor="let car of carrito | async">
              <td>
                <label class="checkbox-wrap checkbox-primary">
                  <input type="checkbox" checked>
                  <span class="checkmark"></span>
                </label>
              </td>
              <td>
                <div class="img" style="background-image: url({{car.producto.urlImagen}});"></div>
              </td>
              <td>
                <div class="email">
                  <span>{{car.producto.nombre}}</span>
                  <span>{{car.producto.descripcion}}</span>
                </div>
              </td>
              <td>{{car.producto.precio | currency:'$'}}</td>
              <td class="quantity">
                <div class="input-group">
                  <input type="number" name="quantity" class="quantity form-control input-number" [value]="car.cantidad_comprar" #cantidad min="1" max="100" (change)="actualizarCarrito(car,cantidad.value)">
                </div>
              </td>
              <td>{{(car.producto.precio * car.cantidad_comprar) | currency:'$'}}</td>
              <td>
                <button type="button" class="close" (click)="quitarDelCarrito(car)" >
                  <span aria-hidden="true"><i class="fa fa-close"></i></span>
                </button>
              </td>
            </tr>

          </tbody>
        </table>
      </div>
    </div>
    <div class="row justify-content-end">
      <div class="col col-lg-5 col-md-6 mt-5 cart-wrap wow animate__animated animate__fadeInUp">
        <app-total-carrito></app-total-carrito>
        <p class="text-center"><a routerLink="/checkout" class="btn btn-primary py-3 px-4">Proceder al pago</a></p>
      </div>
    </div>
  </div>
</section>

<app-footer></app-footer>
